# ä¸ªäººä¸­å¿ƒé¡µé¢è®¾è®¡è§„æ ¼

> **åˆ›å»ºæ—¥æœŸ**: 2026-01-25

---

## ğŸ“ é¡µé¢ç»“æ„

### å¸ƒå±€è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (é¡¶éƒ¨å¯¼èˆªæ )                  â”‚
â”‚  - Logoã€å¯¼èˆªèœå•ã€ç”¨æˆ·ä¸‹æ‹‰èœå•        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä¸ªäººä¸­å¿ƒ (é¡µé¢æ ‡é¢˜)            â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”                      â”‚  â”‚
â”‚  â”‚  â”‚å¤´åƒ â”‚  æ˜µç§°: [æ˜¾ç¤º] [ç¼–è¾‘]   â”‚  â”‚
â”‚  â”‚  â”‚     â”‚  é‚®ç®±: [æ˜¾ç¤º] [ç¼–è¾‘]   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜                      â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  æ›´æ¢å¯†ç               â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  Footer (é¡µè„š)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


**å†…å®¹åŒºåŸŸï¼ˆCard ç»„ä»¶ï¼‰**ï¼š
- **ä¸Šæ–¹**ï¼šå¤´åƒåŒºåŸŸï¼ˆåœ†å½¢å¤´åƒï¼Œå¯ç‚¹å‡»ä¸Šä¼ ï¼‰
- **ä¸­é—´**ï¼šç”¨æˆ·ä¿¡æ¯åŒºåŸŸ
  - æ˜µç§°ï¼šæ˜¾ç¤º + ç¼–è¾‘æŒ‰é’®
  - é‚®ç®±ï¼šæ˜¾ç¤º + ç¼–è¾‘æŒ‰é’®
- **ä¸‹æ–¹**ï¼šæ“ä½œæŒ‰é’®åŒºåŸŸ
  - æ›´æ¢å¯†ç æŒ‰é’®

---

## ğŸ¯ åŠŸèƒ½éœ€æ±‚

### é¡µé¢å†…å®¹
- **å¤´åƒ**ï¼šå±•ç¤ºã€ä¸Šä¼ /æ›´æ¢ï¼ˆæ”¯æŒ JPG/PNG/GIFï¼Œæœ€å¤§ 5MBï¼‰
- **æ˜µç§°**ï¼šå±•ç¤ºã€ç¼–è¾‘ï¼ˆ2-50 ä¸ªå­—ç¬¦ï¼‰
- **é‚®ç®±**ï¼šå±•ç¤ºã€æ›´æ¢ï¼ˆéœ€è¦éªŒè¯ç ï¼‰
- **å¯†ç **ï¼šä¿®æ”¹ï¼ˆéœ€è¦éªŒè¯æ—§å¯†ç ï¼‰

### éªŒè¯è§„åˆ™

**æ˜µç§°**ï¼š
- é•¿åº¦ï¼š2-50 ä¸ªå­—ç¬¦
- å…è®¸ï¼šä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€è¿å­—ç¬¦

**å¯†ç **ï¼š
- é•¿åº¦ï¼š8-100 ä¸ªå­—ç¬¦
- å¿…é¡»åŒ…å«ï¼šå¤§å°å†™å­—æ¯å’Œæ•°å­—
- ä¸èƒ½ä¸æ—§å¯†ç ç›¸åŒ

**é‚®ç®±**ï¼š
- æœ‰æ•ˆé‚®ç®±æ ¼å¼
- ä¸èƒ½ä¸å½“å‰é‚®ç®±ç›¸åŒ
- éªŒè¯ç ï¼š6 ä½æ•°å­—ï¼Œæœ‰æ•ˆæœŸ 10 åˆ†é’Ÿï¼Œ60 ç§’å†…åªèƒ½å‘é€ä¸€æ¬¡

---

## ğŸ”Œ API æ¥å£

### 1. è·å–å½“å‰ç”¨æˆ·èµ„æ–™

```http
GET /api/users/me
Authorization: Bearer {token}
Content-Type: application/json
```

**Response**:
```json
{
  "success": true,
  "data": {
    "id": "user_id",
    "email": "user@example.com",
    "name": "ç”¨æˆ·å",
    "avatar_url": "https://example.com/avatar.jpg",
    "email_verified": true,
    "created_at": "2024-01-01T00:00:00Z",
    "updated_at": "2024-01-01T00:00:00Z"
  }
}
```

---

### 2. æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼ˆæ˜µç§°ï¼‰

```http
PUT /api/users/me
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "æ–°æ˜µç§°"
}
```

**Response**:
```json
{
  "success": true,
  "data": {
    "id": "user_id",
    "email": "user@example.com",
    "name": "æ–°æ˜µç§°",
    "avatar_url": "https://example.com/avatar.jpg",
    "email_verified": true,
    "updated_at": "2024-01-01T00:00:00Z"
  },
  "message": "èµ„æ–™æ›´æ–°æˆåŠŸ"
}
```

---

### 3. æ›´æ–°å¤´åƒ

```http
PUT /api/users/me/avatar
Authorization: Bearer {token}
Content-Type: application/json

{
  "avatar_url": "https://example.com/new-avatar.jpg"
}
```

**Response**:
```json
{
  "success": true,
  "data": {
    "avatar_url": "https://example.com/new-avatar.jpg"
  },
  "message": "å¤´åƒæ›´æ–°æˆåŠŸ"
}
```

---

### 4. ä¿®æ”¹å¯†ç 

```http
PUT /api/users/me/password
Authorization: Bearer {token}
Content-Type: application/json

{
  "old_password": "æ—§å¯†ç ",
  "new_password": "æ–°å¯†ç "
}
```

**Response**:
```json
{
  "success": true,
  "message": "å¯†ç ä¿®æ”¹æˆåŠŸ"
}
```

**é”™è¯¯å“åº”**:
```json
{
  "success": false,
  "error": {
    "code": "AUTH_INVALID_OLD_PASSWORD",
    "message": "æ—§å¯†ç ä¸æ­£ç¡®"
  }
}
```

---

### 5. å‘é€é‚®ç®±éªŒè¯ç ï¼ˆéœ€æ–°å¢ï¼‰

```http
POST /api/users/me/email/send-code
Authorization: Bearer {token}
Content-Type: application/json

{
  "new_email": "new@example.com"
}
```

**Response**:
```json
{
  "success": true,
  "message": "éªŒè¯ç å·²å‘é€åˆ°æ–°é‚®ç®±"
}
```

**é”™è¯¯å“åº”**:
```json
{
  "success": false,
  "error": {
    "code": "EMAIL_ALREADY_EXISTS",
    "message": "è¯¥é‚®ç®±å·²è¢«ä½¿ç”¨"
  }
}
```

**ä¸šåŠ¡é€»è¾‘**ï¼š
- éªŒè¯æ–°é‚®ç®±æ ¼å¼
- æ£€æŸ¥æ–°é‚®ç®±æ˜¯å¦å·²è¢«å…¶ä»–ç”¨æˆ·ä½¿ç”¨
- æ£€æŸ¥æ–°é‚®ç®±æ˜¯å¦ä¸å½“å‰é‚®ç®±ç›¸åŒ
- å‘é€éªŒè¯ç åˆ°æ–°é‚®ç®±
- éªŒè¯ç æœ‰æ•ˆæœŸ 10 åˆ†é’Ÿï¼Œ60 ç§’å†…åªèƒ½å‘é€ä¸€æ¬¡

---

### 6. ç¡®è®¤æ›´æ¢é‚®ç®±ï¼ˆéœ€æ–°å¢ï¼‰

```http
PUT /api/users/me/email
Authorization: Bearer {token}
Content-Type: application/json

{
  "new_email": "new@example.com",
  "code": "123456"
}
```

**Response**:
```json
{
  "success": true,
  "data": {
    "email": "new@example.com",
    "email_verified": false
  },
  "message": "é‚®ç®±æ›´æ¢æˆåŠŸï¼Œè¯·éªŒè¯æ–°é‚®ç®±"
}
```

**é”™è¯¯å“åº”**:
```json
{
  "success": false,
  "error": {
    "code": "INVALID_CODE",
    "message": "éªŒè¯ç é”™è¯¯æˆ–å·²è¿‡æœŸ"
  }
}
```

**ä¸šåŠ¡é€»è¾‘**ï¼š
- éªŒè¯éªŒè¯ç æ˜¯å¦æ­£ç¡®
- éªŒè¯éªŒè¯ç æ˜¯å¦è¿‡æœŸï¼ˆ10 åˆ†é’Ÿï¼‰
- æ£€æŸ¥æ–°é‚®ç®±æ˜¯å¦å·²è¢«å…¶ä»–ç”¨æˆ·ä½¿ç”¨
- æ›´æ–°ç”¨æˆ·é‚®ç®±
- å°† `email_verified` è®¾ç½®ä¸º `false`ï¼ˆéœ€è¦é‡æ–°éªŒè¯ï¼‰

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ–‡ä»¶ç»“æ„
```
web/src/
â”œâ”€â”€ app/profile/page.tsx              # ä¸ªäººä¸­å¿ƒé¡µé¢
â”œâ”€â”€ features/profile/
â”‚   â”œâ”€â”€ components/                   # ç»„ä»¶
â”‚   â”œâ”€â”€ services/profile.service.ts   # API è°ƒç”¨
â”‚   â””â”€â”€ types/profile.types.ts        # ç±»å‹å®šä¹‰
â””â”€â”€ lib/api/endpoints.ts              # æ·»åŠ ç«¯ç‚¹é…ç½®
```

### æŠ€æœ¯è¦ç‚¹
- ä½¿ç”¨ React Hook Form + Zod è¿›è¡Œè¡¨å•éªŒè¯
- å¤´åƒä¸Šä¼ ï¼šæ–‡ä»¶é€‰æ‹© â†’ é¢„è§ˆ â†’ å‹ç¼© â†’ ä¸Šä¼  â†’ æ›´æ–°
- çŠ¶æ€ç®¡ç†ï¼šä½¿ç”¨ç°æœ‰çš„ `auth.store`ï¼Œæ›´æ–°ååŒæ­¥
- æ‰€æœ‰æ“ä½œéœ€è¦åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†
